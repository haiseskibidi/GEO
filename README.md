# Геопортал мониторинга на основе данных дистанционного зондирования

## Обзор проекта

Геопортал представляет собой веб-приложение для визуализации и анализа данных дистанционного зондирования Земли. Система позволяет загружать, просматривать и сравнивать спутниковые снимки, выполнять их поиск по дате и местоположению, а также проводить базовый анализ изменений на земной поверхности.

## Особенности

- Интерактивная карта с поддержкой различных базовых слоев (OpenStreetMap, спутниковые снимки)
- Поиск и фильтрация изображений по дате съемки
- Просмотр и сравнение разновременных снимков с помощью инструментов "шторка" и "прозрачность"
- Возможность визуального анализа изменений
- Различные режимы рендеринга спутниковых снимков (естественный цвет, цветной инфракрасный, NDVI и др.)
- Настройка параметров отображения изображений (яркость, контраст, насыщенность)
- Работа с тестовыми данными для демонстрации функциональности

## Технологии

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Картография**: OpenLayers 7
- **Данные**: Тестовые изображения, созданные с помощью Python и библиотеки Pillow
- **Дополнительно**: Python для создания тестовых данных

## Структура проекта

```
geoportal-monitoring/
├── index.html              # Главная HTML страница
├── css/                    # Стили
│   ├── main.css            # Основные стили
│   └── vendors/            # CSS сторонних библиотек
├── js/                     # JavaScript файлы
│   ├── app.js              # Главный модуль приложения
│   ├── map.js              # Логика работы с картой
│   ├── images.js           # Модуль работы с изображениями
│   ├── controls.js         # Элементы управления
│   ├── config.js           # Настройки приложения
│   └── vendors/            # JS сторонних библиотек
├── data/                   # Каталог с данными
│   ├── sample_image_1.jpg  # Тестовые изображения
│   ├── sample_image_2.jpg
│   ├── ...
│   └── thumbnails/         # Миниатюры изображений
├── python_scripts/         # Python скрипты
│   └── generate_test_images.py  # Скрипт для создания тестовых изображений
├── test_image_loader.html  # Тестовая страница для проверки изображений
└── README.md               # Документация
```

## Установка и запуск

### Подготовка тестовых данных

Перед использованием геопортала необходимо создать тестовые изображения:

1. Установите Python 3.7+ и библиотеку Pillow:
   ```
   pip install Pillow
   ```

2. Перейдите в каталог python_scripts и запустите скрипт генерации тестовых изображений:
   ```
   cd python_scripts
   python generate_test_images.py
   ```

3. Скрипт создаст тестовые спутниковые снимки в каталоге data/ и их миниатюры в data/thumbnails/.

### Проверка тестовых изображений

Для проверки успешной генерации тестовых изображений:

1. Откройте в браузере файл `test_image_loader.html`
2. Нажмите кнопку "Проверить изображения"
3. Убедитесь, что все изображения успешно загружены

### Запуск геопортала

1. Откройте файл `index.html` в браузере для запуска приложения.
2. Для полноценной работы с геопорталом рекомендуется использовать локальный веб-сервер:
   ```
   # Если установлен Python 3:
   python -m http.server
   
   # Затем откройте в браузере:
   http://localhost:8000/
   ```

## Использование

1. **Поиск изображений**:
   - Используйте фильтры по дате для поиска нужных снимков
   - Результаты отображаются в боковой панели с миниатюрами

2. **Выбор изображений**:
   - Нажмите кнопку "Выбрать #1" для выбора основного изображения
   - Нажмите кнопку "Выбрать #2" для выбора второго изображения (для сравнения)

3. **Режимы отображения**:
   - "Одиночное изображение" - просмотр одного выбранного снимка
   - "Сравнение (шторка)" - сравнение двух изображений с помощью ползунка
   - "Сравнение (прозрачность)" - наложение одного изображения на другое с настройкой прозрачности

4. **Режимы рендеринга**:
   - "Естественный цвет" - отображение в естественных цветах (RGB)
   - "Цветной ИК" - подчеркивает растительность
   - "Коротковолновый ИК" - полезен для геологического анализа
   - "Сельское хозяйство" - выделяет различия в сельскохозяйственных культурах
   - "Городская среда" - подчеркивает городскую застройку
   - "Индекс вегетации (NDVI)" - отображает интенсивность растительности
   - "Температура поверхности" - визуализация температурных различий

5. **Настройка изображений**:
   - Используйте слайдеры яркости, контраста и насыщенности для точной настройки
   - Выбирайте предустановленные режимы рендеринга для специализированного анализа

6. **Управление картой**:
   - Используйте колесо мыши для масштабирования
   - Перетаскивайте карту для навигации
   - Используйте элементы управления в левом верхнем углу для базовых действий

## Устранение неполадок

### Изображения не отображаются:
1. Убедитесь, что вы запустили скрипт `generate_test_images.py` для создания тестовых изображений
2. Проверьте наличие файлов в каталоге `data/` и `data/thumbnails/`
3. Откройте консоль браузера (F12) для просмотра ошибок
4. Используйте `test_image_loader.html` для диагностики проблем с изображениями

### Карта не отображается корректно:
1. Проверьте подключение к интернету (для загрузки базовых слоев карты)
2. Убедитесь, что используется современный браузер с поддержкой WebGL

## Планы развития

- Добавление инструментов анализа изображений (NDVI, классификация и др.)
- Поддержка реальных данных Landsat, Sentinel и других источников
- Улучшение интерфейса и производительности
- Добавление временных рядов и анимации изменений

## Авторы

- Проект разработан в рамках учебного задания по геоинформационным системам

## Лицензия

- MIT License 